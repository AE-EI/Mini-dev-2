<!-- MiniDevis - Test Installations Spécifiques -->
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MiniDevis - Installations Spécifiques</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .hidden { display: none; }
    .btn { padding: 10px 15px; margin: 5px; background: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    #bandeau { background: #eee; padding: 10px; margin-bottom: 20px; font-weight: bold; }
</style>
</head>
<body>

<div id="app">
    <div id="bandeau">MiniDevis – vTestIS – 12/08/2025</div>

    <h2>Installations spécifiques</h2>

    <!-- MISE À LA TERRE -->
    <h3>Mise à la terre</h3>
    <button class="btn" onclick="addItem('Mise à la terre', 'Complète : pose des raccordements du conducteur de terre principal en 16 mm² du tableau jusqu’à la barrette de coupure, pose d’une barrette de coupure, 4 piquets et 10 m de câblette de terre Ø25mm²', 500)">Complète (500€)</button>
    <button class="btn" onclick="addItem('Mise à la terre', 'Piquet supplémentaire + 2 m de câblette 25 mm²', 100)">Piquet supp. (100€)</button>
    <button class="btn" onclick="addItem('Mise à la terre', 'Partielle : remplacement du conducteur principal de terre 16 mm² (prix au mètre)', 20)">Rempl. conducteur/m (20€)</button>
    <button class="btn" onclick="addItem('Mise à la terre', 'Partielle : pose d’une barrette de coupure', 40)">Barrette coupure (40€)</button>

    <!-- VENTILATION -->
    <h3>Ventilation</h3>
    <button class="btn" onclick="addItem('Ventilation', 'VMC simple flux complète', 800)">VMC simple flux (800€)</button>
    <button class="btn" onclick="addItem('Ventilation', 'Pose d’un chapeau de toiture Ø125', 150)">Chapeau toiture Ø125 (150€)</button>
    <button class="btn" onclick="addItem('Ventilation', 'Gaine isolée Ø125/mètre', 20)">Gaine isolée Ø125/m (20€)</button>
    <button class="btn" onclick="addItem('Ventilation', 'Bouche d’extraction Ø125', 30)">Bouche extraction Ø125 (30€)</button>

    <!-- DISTRIBUTION TABLEAU -->
    <h3>Distribution tableau</h3>
    <button class="btn" onclick="addItem('Distribution tableau', 'Tableau électrique complet 4 rangées', 600)">Tableau 4 rangées (600€)</button>
    <button class="btn" onclick="addItem('Distribution tableau', 'Peigne de répartition', 50)">Peigne répartition (50€)</button>
    <button class="btn" onclick="addItem('Distribution tableau', 'Interrupteur différentiel 30mA type AC', 60)">Différentiel AC (60€)</button>
    <button class="btn" onclick="addItem('Distribution tableau', 'Interrupteur différentiel 30mA type A', 70)">Différentiel A (70€)</button>

    <br><br>
    <button class="btn" onclick="showSummary()">Voir résumé</button>
    <div id="summary" class="hidden">
        <h3>Résumé :</h3>
        <pre id="summaryText"></pre>
    </div>
</div>

<script>
    // Code d'accès conservé mais désactivé
    const accessCode = "AE-0825"; 

    let devis = {};

    function addItem(section, item, price) {
        if (!devis[section]) devis[section] = [];
        devis[section].push({ name: item, price: price });
        alert(item + " ajouté à " + section);
    }

    function showSummary() {
        let output = "";
        let totalGlobal = 0;
        for (let section in devis) {
            if (devis[section].length > 0) {
                output += section + " :\n";
                let totalSection = 0;
                devis[section].forEach(el => {
                    output += "- " + el.name + " (" + el.price + "€/u)\n";
                    totalSection += el.price;
                });
                output += "Total " + section + " : " + totalSection + "€\n\n";
                totalGlobal += totalSection;
            }
        }
        output += "Total global : " + totalGlobal + "€";
        document.getElementById("summaryText").textContent = output;
        document.getElementById("summary").classList.remove("hidden");
    }
</script>

</body>
</html>
