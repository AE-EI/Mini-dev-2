<!-- MiniDevis - Version test connexion et bandeau -->
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MiniDevis - Test</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .hidden { display: none; }
    .btn { padding: 10px 15px; margin: 5px; background: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
    #bandeau { background: #eee; padding: 10px; margin-bottom: 20px; font-weight: bold; }
</style>
</head>
<body>

<!-- Écran de connexion -->
<div id="loginScreen">
    <h2>Connexion</h2>
    <p>Entrez le code d'accès :</p>
    <input type="password" id="codeInput" placeholder="Code d'accès">
    <button class="btn" onclick="checkCode()">Valider</button>
    <p id="errorMsg" style="color:red;"></p>
</div>

<!-- Application -->
<div id="app" class="hidden">
    <div id="bandeau">MiniDevis – vTest – 12/08/2025</div>
    <h2>Choisissez une pièce</h2>
    <button class="btn" onclick="addItem('Cuisine', '1 prise')">Cuisine</button>
    <button class="btn" onclick="addItem('Chambre', '1 point lumineux')">Chambre</button>
    <br><br>
    <button class="btn" onclick="showSummary()">Voir résumé</button>
    <div id="summary" class="hidden">
        <h3>Résumé :</h3>
        <pre id="summaryText"></pre>
    </div>
</div>

<script>
    const accessCode = "AE-0825";
    let devis = {};

    function checkCode() {
        const input = document.getElementById("codeInput").value;
        if (input === accessCode) {
            document.getElementById("loginScreen").classList.add("hidden");
            document.getElementById("app").classList.remove("hidden");
        } else {
            document.getElementById("errorMsg").textContent = "Code incorrect.";
        }
    }

    function addItem(piece, item) {
        if (!devis[piece]) devis[piece] = [];
        devis[piece].push(item);
        alert(item + " ajouté à " + piece);
    }

    function showSummary() {
        let output = "";
        for (let piece in devis) {
            output += piece + " :\n";
            devis[piece].forEach(el => output += "- " + el + "\n");
            output += "\n";
        }
        document.getElementById("summaryText").textContent = output;
        document.getElementById("summary").classList.remove("hidden");
    }
</script>

</body>
</html>
